<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Native Dialogs Example</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="Jeffrey Luu"/>
    <link href="assets/images/favicon.ico" rel="icon"/>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!--TODO Used for icons with javascript-->
    <!-- <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/fontawesome.min.css" rel="stylesheet" > -->
    <link href="styles/main.css" rel="stylesheet"/>
    <script src="https://cdn.jsdelivr.net/npm/dompurify@2.3.1/dist/purify.min.js"></script>
    <script>
        window.addEventListener('DOMContentLoaded', () => {
            const buttons = document.querySelectorAll('button');
            const output = document.querySelector('output');

            buttons.forEach((button) => {
                button.addEventListener('click', () => {
                    let result = '';
                    if (button.id == "alertButton") {
                        alert("Alert Pressed!");
                    }
                    else if (button.id == "confirmButton") {
                        result = confirm("Do you confirm this?");
                        output.textContent = `The value returned by the confirm method is: ${result}`;
                    }
                    else if (button.id == "promptButton") {
                        const input = prompt("What's your name?");
                        if (input == "") {
                            // Write the message "User didn't enter anything!" if they didn't enter anything
                            output.textContent = "User didn't enter a name!";
                        }
                        else if (input != null) {
                            output.textContent = `The value returned by the prompt method is: ${input}`;
                        }
                        else {
                            output.textContent = "The prompt was cancelled!";
                        }
                    }
                    else if (button.id == "What's your name?") {
                        const input = prompt("Enter some text which will be purified!");
                        if (input == "") {
                            output.textContent = "User didn't enter a name!";
                        }
                        else if (input != null) {
                            output.textContent = `The value returned by the prompt method is: ${DOMPurify.sanitize(input)}`;
                        }
                        else {
                            output.textContent = "The prompt was cancelled!";
                        }
                    }
                });
            });
        });
    </script>

</head>

<body>
    <header>
        <h1>Native Dialogs</h1>
    </header>
    <main>
        <button type="button" id="alertButton">Alert</button>
        <button type="button" id="confirmButton">Confirm</button>
        <button type="button" id="promptButton">Prompt</button>
        <button type="button" id="safeButton">Safer Prompt</button>
        <p>&nbsp;</p>
        <output></output>
    </main>
</body>
</html>

